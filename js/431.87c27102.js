"use strict";(self["webpackChunkoiso"]=self["webpackChunkoiso"]||[]).push([[431],{4431:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"background-color":"white"}},[t.editMode?e("div",[e("top-form-nav",{attrs:{title:t.content_title,mode:"디테일수정",canEdit:t.canEdit}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.content_title,expression:"content_title"}],staticClass:"input__title",attrs:{type:"text"},domProps:{value:t.content_title},on:{input:function(e){e.target.composing||(t.content_title=e.target.value)}}}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content_text,expression:"content_text"}],staticClass:"input__text",domProps:{value:t.content_text},on:{input:function(e){e.target.composing||(t.content_text=e.target.value)}}})],1):e("div",[e("top-form-nav",{attrs:{title:"공지사항",mode:"디테일",canEdit:t.canEdit}}),e("div",{staticClass:"meta-info"},[e("span",{staticClass:"meta__author"},[t._v(t._s(t.content_author))]),e("span",{staticClass:"meta__regTime"},[t._v(t._s(t.content_regTime))])]),e("div",{staticClass:"meta-info__cnt"},[e("span",{staticClass:"meta__cnt"},[t._v("조회수 "+t._s(t.content_viewCnt)+" ")]),e("span",{staticClass:"meta__cnt"},[t._v("like "+t._s(t.content_likeCnt))])]),e("div",{staticClass:"title--before-edit"},[t._v(" "+t._s(t.content_title)+" ")]),e("hr"),e("p",{staticClass:"content info__overview"},[t._v(t._s(t.content_text))]),e("div",{staticClass:"like-group"},[t.likeChecked?e("div",{staticClass:"like--checked",on:{click:function(e){return t.updateLikeCnt()}}}):e("div",{staticClass:"like--unchecked",on:{click:function(e){return t.updateLikeCnt()}}}),e("div",[t._v("좋아요 "+t._s(t.content_likeCnt)+"개")])])],1),e("app-footer"),e("app-nav",{attrs:{navmode:"bulletin"}})],1)},o=[],s=(i(7658),i(3148)),a=i(629),l={name:"BulletinDetail",components:{TopFormNav:()=>i.e(47).then(i.bind(i,7047)),AppNav:()=>i.e(720).then(i.bind(i,7720)),AppFooter:()=>i.e(347).then(i.bind(i,3347))},data(){return{articleNo:0,content_title:"",content_text:"",content_author:"",content_regTime:"",content_viewCnt:0,content_likeCnt:0,editMode:!1,canEdit:!1,comments:"",imgs:[],likeChecked:!1}},created(){this.getArticleDetail(),this.getLikeCnt()},mounted(){},computed:{...(0,a.Se)({userInfo:"userInfo"})},methods:{getArticleDetail(){s.Z.get("/article/bulletin/"+this.$route.params.articleNo).then((t=>{const e=t.data;console.log(t.data),this.content_title=e.title,this.content_text=e.content,this.articleNo=e.articleNo,this.content_author=e.id,this.content_regTime=e.regTime,this.content_viewCnt=e.viewCnt,this.content_likeCnt=e.likeCnt,this.userInfo.userId===e.id&&(this.canEdit=!0,console.log(this.canEdit))}))},changeEdit(){this.editMode=!this.editMode},modifyArticle(){console.log(this),""!=this.content_text&""!=this.content_title?s.Z.put(`/article/bulletin/${this.articleNo}`,{articleNo:this.articleNo,title:this.content_title,content:this.content_text,viewCnt:this.content_viewCnt}).then((({status:t})=>{200==t&&this.$router.push({name:"bulletin"})})):alert("정보를 입력해 주세요")},deleteArticle(){s.Z["delete"]("/article/bulletin/"+this.$route.params.articleNo).then((t=>{console.log(t.data),this.$router.push({name:"bulletin"})}))},getLikeCnt(){s.Z.get(`/article/bulletin/${this.$route.params.articleNo}/like/${this.userInfo.userId}`).then((t=>{console.log(t),this.likeChecked=t.data}))},updateLikeCnt(){s.Z.post(`/article/bulletin/${this.articleNo}/like`,{articleNo:this.articleNo,id:this.userInfo.userId}).then((t=>{this.likeChecked=t.data,console.log(t),this.getArticleDetail()}))}}},c=l,r=i(1001),d=(0,r.Z)(c,n,o,!1,null,"20a83b08",null),u=d.exports}}]);
//# sourceMappingURL=431.87c27102.js.map