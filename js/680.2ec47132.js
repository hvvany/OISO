"use strict";(self["webpackChunkoiso"]=self["webpackChunkoiso"]||[]).push([[680],{1680:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"background-color":"white"}},[t.editMode?e("div",[e("top-form-nav",{attrs:{title:t.content_title,mode:"디테일수정",canEdit:t.canEdit}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.content_title,expression:"content_title"}],staticClass:"input__title",attrs:{type:"text"},domProps:{value:t.content_title},on:{input:function(e){e.target.composing||(t.content_title=e.target.value)}}}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content_text,expression:"content_text"}],staticClass:"input__text",domProps:{value:t.content_text},on:{input:function(e){e.target.composing||(t.content_text=e.target.value)}}})],1):e("div",[e("top-form-nav",{attrs:{title:"게시글 조회",mode:"디테일",canEdit:t.canEdit}}),e("div",{staticClass:"meta-info"},[e("span",{staticClass:"meta__author"},[t._v(t._s(t.content_author))]),e("span",{staticClass:"meta__regTime"},[t._v(t._s(t.content_regTime))])]),e("div",{staticClass:"meta-info__cnt"},[e("span",{staticClass:"meta__cnt"},[t._v("조회수 "+t._s(t.content_viewCnt)+" ")]),e("span",{staticClass:"meta__cnt"},[t._v("like "+t._s(t.content_likeCnt))])]),e("div",{staticClass:"title--before-edit"},[t._v(" "+t._s(t.content_title)+" ")]),e("hr"),e("img-swiper",{staticClass:"main-swiper",attrs:{imgs:t.imgs}}),e("div",{staticClass:"like-group"},[t.likeChecked?e("div",{staticClass:"like--checked",on:{click:function(e){return t.updateLikeCnt()}}}):e("div",{staticClass:"like--unchecked",on:{click:function(e){return t.updateLikeCnt()}}}),e("div",[t._v("좋아요 "+t._s(t.content_likeCnt)+"개")])]),e("p",{staticClass:"content info__overview"},[t._v(t._s(t.content_text))]),e("hr"),e("h3",{staticClass:"comment"},[t._v("댓글")]),t._l(t.comments,(function(t){return e("comment-row",{key:t.commentNo,attrs:{type:"board",articleNo:t.articleNo,comment:t}})})),e("comment-write",{attrs:{articleNo:this.articleNo,type:"board"}})],2),e("app-footer"),e("app-nav",{attrs:{navmode:"board"}})],1)},o=[],a=(i(7658),i(3148)),s=i(629),c={name:"BoardNew",components:{TopFormNav:()=>i.e(47).then(i.bind(i,7047)),AppNav:()=>i.e(720).then(i.bind(i,7720)),AppFooter:()=>i.e(347).then(i.bind(i,3347)),ImgSwiper:()=>Promise.all([i.e(429),i.e(773)]).then(i.bind(i,8865)),"comment-write":()=>i.e(701).then(i.bind(i,1701)),"comment-row":()=>i.e(387).then(i.bind(i,1387))},data(){return{articleNo:0,content_title:"",content_text:"",content_author:"",content_regTime:"",content_viewCnt:0,content_likeCnt:0,editMode:!1,canEdit:!1,comments:"",imgs:[],likeChecked:!1}},created(){a.Z.get("/article/board/").then((async t=>{this.boardData=t.data,console.log(t.data);for(let e of t.data)if(e.articleNo==this.$route.params.articleNo){for(let t of e.fileInfos)this.imgs.push(t.onlinePath);console.log(this.imgs);break}})),this.getArticleDetail(),this.getLikeCnt(),this.getComment()},mounted(){},computed:{...(0,s.Se)({userInfo:"userInfo"})},methods:{getArticleDetail(){a.Z.get("/article/board/"+this.$route.params.articleNo).then((t=>{const e=t.data;this.content_title=e.title,this.content_text=e.content,this.articleNo=e.articleNo,this.content_author=e.id,this.content_regTime=e.regTime,this.content_viewCnt=e.viewCnt,this.content_likeCnt=e.likeCnt,this.userInfo.userId===e.id&&(this.canEdit=!0,console.log(this.canEdit))}))},changeEdit(){this.editMode=!this.editMode},modifyArticle(){""!=this.content_text&""!=this.content_title?a.Z.put(`/article/board/${this.articleNo}`,{articleNo:this.articleNo,title:this.content_title,content:this.content_text,viewCnt:this.content_viewCnt}).then((({status:t})=>{200==t&&this.$router.push({name:"board"})})):alert("정보를 입력해 주세요")},deleteArticle(){a.Z["delete"]("/article/board/"+this.$route.params.articleNo).then((t=>{console.log(t.data),this.$router.push({name:"board"})}))},getComment(){a.Z.get("/comment/board/"+this.$route.params.articleNo).then((t=>{this.comments=t.data}))},getLikeCnt(){a.Z.get(`/article/board/${this.$route.params.articleNo}/like/${this.userInfo.userId}`).then((t=>{console.log(t),this.likeChecked=t.data}))},updateLikeCnt(){a.Z.post(`/article/board/${this.articleNo}/like`,{articleNo:this.articleNo,id:this.userInfo.userId}).then((t=>{this.likeChecked=t.data,console.log(t),this.getArticleDetail()}))}}},r=c,l=i(1001),d=(0,l.Z)(r,n,o,!1,null,"2661662e",null),h=d.exports}}]);
//# sourceMappingURL=680.2ec47132.js.map